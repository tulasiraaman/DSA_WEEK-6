class Solution {
    public int[] nextGreaterElements(int[] nums) {
        int n = nums.length;
        int[] result = new int[n];
        Arrays.fill(result, -1);
        Stack<Integer> stack = new Stack<>();

        //here we used to extend the arr size into double(imaginary)
        //eg. [1,2,1] -> [1,2,1,1,2,1]
        for (int i = 2 * n - 1;i >= 0; i--) {
            int index = i%n;
            while (!stack.isEmpty() && stack.peek() <= nums[index]) {
                stack.pop();
            }
            if (!stack.isEmpty()) {
                result[index] = stack.peek();
            }
            stack.push(nums[index]);
        }
        return result;
    }
}
//TC - O(n) → Each element pushed/popped at most once.
//SC - O(n) → Stack + result array.
